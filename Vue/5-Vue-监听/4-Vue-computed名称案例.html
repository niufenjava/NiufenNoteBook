<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>3-Vue-watch监视路由地址的改变</title>
    <script src="https://vuejs.org/js/vue.js"></script>
    <!-- 引入样式 -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
  </head>

  <body>
    <div id="app">
      <input type="text" v-model="firstname" /> +
      <input type="text" v-model="middlename" /> +
      <input type="text" v-model="lastname" /> =
      <input type="text" v-model="fullname" />

      <p>{{ fullname }}</p>
      <p>{{ fullname }}</p>
      <p>{{ fullname }}</p>
      <p>
        ## `watch`、`computed`和`methods`之间的对比 1.
        `computed`属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算。主要当作属性来使用；
        2. `methods`方法表示一个具体的操作，主要书写业务逻辑； 3.
        `watch`一个对象，键是需要观察的表达式，值是对应回调函数。主要用来监听某些特定数据的变化，从而进行某些具体的业务逻辑操作；可以看作是`computed`和`methods`的结合体；
      </p>
    </div>

    <script>
      // 创建 Vue 实例，得到 ViewModel
      var vm = new Vue({
        el: '#app',
        data: {
          firstname: '',
          lastname: '',
          middlename: ''
        },
        methods: {},
        computed: {
          // 在 computed 中，可以定义一些 属性，这些属性，叫做 【计算属性】， 计算属性的，本质，就是 一个方法，只不过，我们在使用 这些计算属性的时候，是把 它们的 名称，直接当作 属性来使用的；并不会把 计算属性，当作方法去调用；

          // 注意1： 计算属性，在引用的时候，一定不要加 () 去调用，直接把它 当作 普通 属性去使用就好了；
          // 注意2： 只要 计算属性，这个 function 内部，所用到的 任何 data 中的数据发送了变化，就会 立即重新计算 这个 计算属性的值
          // 注意3： 计算属性的求值结果，会被缓存起来，方便下次直接使用； 如果 计算属性方法中，所以来的任何数据，都没有发生过变化，则，不会重新对 计算属性求值；
          fullname: function() {
            console.log('ok');
            return this.firstname + '-' + this.middlename + '-' + this.lastname;
          }
        }
      });
    </script>
  </body>
</html>
